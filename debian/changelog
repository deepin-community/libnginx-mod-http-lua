libnginx-mod-http-lua (1:0.10.28-2) unstable; urgency=medium

  * d/control: bump Standards-Version: 4.7.2, no changes

 -- Jan Mojžíš <janmojzis@debian.org>  Fri, 11 Apr 2025 14:27:00 +0200

libnginx-mod-http-lua (1:0.10.28-1) unstable; urgency=medium

  * New upstream version 0.10.28
  * d/{control,copyright}: update my email to "janmojzis@debian.org"
  * d/copyright: bump debian/* copyright year
  * d/watch: use more generic template
  * d/control: updated lua-resty-core dependency (>=0.1.31)

 -- Jan Mojžíš <janmojzis@debian.org>  Mon, 10 Feb 2025 19:54:24 +0100

libnginx-mod-http-lua (1:0.10.27-3) unstable; urgency=medium

  * Team upload

  [ Bo YU ]
  * Add build support for riscv64. (Closes: #1089239)

 -- Jérémy Lal <kapouer@melix.org>  Sat, 07 Dec 2024 19:39:26 +0100

libnginx-mod-http-lua (1:0.10.27-2) unstable; urgency=medium

  * d/control: fix dependency to lua-resty-core (>=0.1.30)

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Wed, 23 Oct 2024 17:34:43 +0200

libnginx-mod-http-lua (1:0.10.27-1) unstable; urgency=medium

  * New upstream version 0.10.27
  * d/control: updated lua-resty-core dependency >=0.1.29, <<0.1.29.1~

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Mon, 19 Aug 2024 10:01:59 +0200

libnginx-mod-http-lua (1:0.10.26-3) unstable; urgency=medium

  * d/control: bump Standards-Version: 4.7.0, no changes
  * d/control: replace luajit2 B-D with luajit (Closes: 1072350)
  * d/control: update dependency lua-resty-core (>=0.1.28-3)

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sat, 01 Jun 2024 16:23:55 +0200

libnginx-mod-http-lua (1:0.10.26-2) unstable; urgency=medium

  * d/watch: use new recommended github template

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Fri, 19 Jan 2024 19:18:01 +0100

libnginx-mod-http-lua (1:0.10.26-1) unstable; urgency=medium

  * New upstream version 0.10.26
  * d/copyright: bump my copyright year
  * d/gbp.conf: add [pull] track-missing = True
  * d/watch: remove filenamemangle
  * d/control: updated lua-resty-core dependency >=0.1.28, <<0.1.28.1~
  * d/p/d/p/0001-feature-support-pcre2.patch remove, fixed in upstream

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Mon, 08 Jan 2024 09:16:33 +0100

libnginx-mod-http-lua (1:0.10.25-3) unstable; urgency=medium

  * d/rules remove src/ngx_http_lua_autoconf.h in target
  execute_before_dh_auto_clean target instead of override_dh_auto_clean

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sun, 08 Oct 2023 15:19:17 +0200

libnginx-mod-http-lua (1:0.10.25-2) unstable; urgency=medium

  [ Jan Mojžíš ]
  * PCRE2 SUPPORT
    * d/p/d/p/0001-feature-support-pcre2.patch: added PCRE2 support
    * d/control: removed build dependency on libpcre3-dev
    * d/rules: removed DEB_LDFLAGS_MAINT_APPEND = -lpcre
    (Closes: 1050186)
  * d/rules: added override_dh_auto_clean, which removes forgotten autogenerated
    file src/ngx_http_lua_autoconf.h. It fixes problem, when package fails to
    build a source package after a successful build
    (dpkg-buildpackage; dpkg-buildpackage -S). (Closes: 1046036)

  [ Jérémy Lal ]
  * Better usage of dh-sequence-nginx.
    * d/rules removed override_dh_auto_test
    * d/control removed build-dependency on nginx-abi-1.24.0-1
    * d/control removed dependency on libnginx-mod-http-ndk

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Wed, 27 Sep 2023 19:52:46 +0200

libnginx-mod-http-lua (1:0.10.25-1) unstable; urgency=medium

  * New upstream version 0.10.25
  * d/control: updated lua-resty-core dependency >=0.1.27, <<0.1.27.1~

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Wed, 28 Jun 2023 18:20:39 +0200

libnginx-mod-http-lua (1:0.10.23-2) unstable; urgency=medium

  * NEW ABI: rebuild with nginx-abi-1.24.0-1

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Tue, 27 Jun 2023 23:16:39 +0200

libnginx-mod-http-lua (1:0.10.23-1) unstable; urgency=medium

  * New upstream version 0.10.23
  * d/control: updated lua-resty-core dependency >=0.1.25, <<0.1.25.1~

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Fri, 24 Feb 2023 07:28:38 +0100

libnginx-mod-http-lua (1:0.10.23~rc2-2) unstable; urgency=medium

  * d/copyright: bump my copyright year
  * NEW ABI: rebuild with nginx-abi-1.22.1-7

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Mon, 13 Feb 2023 12:56:28 +0100

libnginx-mod-http-lua (1:0.10.23~rc2-1) unstable; urgency=medium

  * New upstream version 0.10.23~rc2
  * d/copyright: incorporated changes from the new upstream version

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sun, 12 Feb 2023 07:16:52 +0100

libnginx-mod-http-lua (1:0.10.23~rc1-2) unstable; urgency=medium

  * Upload to unstable.
  * d/control: updated lua-resty-core dependency >=0.1.25~rc1, <<0.1.25.1~

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Tue, 07 Feb 2023 09:47:56 +0100

libnginx-mod-http-lua (1:0.10.23~rc1-1) experimental; urgency=medium

  [ Jérémy Lal ]
  * Build using dh-sequence-nginx
  * d/control: remove Uploaders that are part of nginx-team,
    keep only the most recent active one, per policy 5.6.3.

  [ Jan Mojžíš ]
  * New upstream version 0.10.23~rc1
  * d/control: updated lua-resty-core dependency to 0.1.25~rc1
  * d/rules: fixed LUAJIT_LIB path, x86_64-linux-gnu -> $(DEB_HOST_MULTIARCH)
  * d/copyright-scan-patterns.yml added
  * d/copyright generated using 'cme update dpkg-copyright'
  * d/t/generic rework. The test now checks module after
    installation/reload/restart.
  * d/control: added Build-Depends libpcre3-dev
  * d/rules: added DEB_LDFLAGS_MAINT_APPEND = -lpcre
  * d/gbb.conf: switched to debian branch main (debian-branch = main)
  * d/control: bump Standards-Version: 4.6.2, no changes

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sat, 21 Jan 2023 22:41:59 +0100

libnginx-mod-http-lua (1:0.10.22-4) unstable; urgency=medium

  * d/tests: added 'generic' test
  * d/tests: cleanup in the code
  * d/source/options: file removed
  * Additional info: libnginx-mod-http-lua package after version 0.10.16 fixes
    CVE-2020-36309 (Closes: 986787)

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sat, 26 Nov 2022 08:48:42 +0100

libnginx-mod-http-lua (1:0.10.22-3) unstable; urgency=medium

  [ Debian Janitor ]
  * Set upstream metadata fields: Bug-Database, Bug-Submit, Repository-Browse.

  [ Jan Mojžíš ]
  * d/control update nginx Build-Depends >=1.22.1, <<1.22.1.1~
  * d/control: added powerpc Architecture
  * rebuild with nginx 1.22.1

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Thu, 10 Nov 2022 18:18:27 +0100

libnginx-mod-http-lua (1:0.10.22-2) unstable; urgency=medium

  * d/control fixed dependency on exact version of lua-resty-core

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Tue, 20 Sep 2022 06:11:49 +0200

libnginx-mod-http-lua (1:0.10.22-1) unstable; urgency=medium

  * New upstream version 0.10.22
  * d/t/simple updated, the test is skipped if libnginx-mod-http-lua module
    or lua-resty-core can't be installed

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Sat, 17 Sep 2022 08:30:40 +0200

libnginx-mod-http-lua (1:0.10.21-2) unstable; urgency=medium

  * d/control: Build only on architectures (amd64 arm64 armel armhf i386
    mips64el mipsel s390x) where luajit2 is stable.
  * d/t/lua-resty-core: removed, and the test moved to the package
    lua-resty-core
  * d/t/lua-resty-lrucache: removed, and the test moved to the package
    lua-resty-lrucache

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Thu, 18 Aug 2022 07:45:37 +0200

libnginx-mod-http-lua (1:0.10.21-1) unstable; urgency=medium

  * Initial release. (Closes: 1016866)

 -- Jan Mojžíš <jan.mojzis@gmail.com>  Fri, 12 Aug 2022 16:10:58 +0200
